# Tests Policy

目的: `pr-ci-test` を「品質の最小保証」として維持し、daily warm-up を止めない

---

## 原則
- **tests は小さく、速く、決定的に**
- 失敗したら `docs/runbooks/ci-failure.md` を参照
- 変更は **1PR=1論点**（テスト追加とリファクタは分ける）

---

## 何をテストするか（最小）
- 重要な関数の入出力（happy path + 代表的な異常系）
- 仕様の“境界”だけ（全部は狙わない）
- バグが出たら **再現テストを1本追加**（最優先）

---

## 何をしないか
- 実行に時間がかかる重いテスト（外部サービス、巨大データ）
- 乱数や時刻に依存する不安定テスト（必要なら固定）
- 環境依存の手動手順をテストに混ぜる

---

## 命名と配置
- 置き場所: `tests/`
- ファイル名: `test_*.py`
- 1ファイル=1テーマ（肥大化したら分割）

---

## ローカル実行（推奨）
```bash
python -m pytest
